{"version":3,"sources":["webpack:///./node_modules/core-js/library/modules/es6.array.is-array.js","webpack:///./node_modules/core-js/modules/es6.array.find-index.js","webpack:///./node_modules/@babel/runtime-corejs2/core-js/symbol.js","webpack:///./node_modules/@babel/runtime-corejs2/helpers/esm/arrayLikeToArray.js","webpack:///./node_modules/@babel/runtime-corejs2/helpers/esm/arrayWithoutHoles.js","webpack:///./node_modules/@babel/runtime-corejs2/helpers/esm/iterableToArray.js","webpack:///./node_modules/@babel/runtime-corejs2/helpers/esm/unsupportedIterableToArray.js","webpack:///./node_modules/@babel/runtime-corejs2/helpers/esm/nonIterableSpread.js","webpack:///./node_modules/@babel/runtime-corejs2/helpers/esm/toConsumableArray.js","webpack:///./node_modules/@babel/runtime-corejs2/core-js/array/from.js","webpack:///./src/components/Reports.vue?27c5","webpack:///src/components/Reports.vue","webpack:///./src/components/Reports.vue?b483","webpack:///./src/components/Reports.vue","webpack:///./node_modules/core-js/modules/es6.regexp.replace.js","webpack:///./node_modules/@babel/runtime-corejs2/core-js/array/is-array.js","webpack:///./node_modules/@babel/runtime-corejs2/core-js/is-iterable.js","webpack:///./node_modules/core-js/library/fn/array/is-array.js"],"names":["$export","S","isArray","$find","KEY","forced","Array","P","F","findIndex","callbackfn","this","arguments","length","undefined","module","exports","_arrayLikeToArray","arr","len","i","arr2","_arrayWithoutHoles","_iterableToArray","iter","Object","_unsupportedIterableToArray","o","minLen","n","prototype","toString","call","slice","constructor","name","test","_nonIterableSpread","TypeError","_toConsumableArray","render","_vm","_h","$createElement","_c","_self","_v","attrs","isLoading","slot","columns","data","scopedSlots","_u","key","fn","ref","status","_f","_s","record","url","disposition","on","$event","handelSubmitClick","isSubmitting","submitLabReport","model","value","callback","$$v","visible","expression","staticStyle","clickedRecord","staticRenderFns","allRates","created","init","methods","lab","labId","filters","statusFilter","statusFilter2","component","anObject","toObject","toLength","toInteger","advanceStringIndex","regExpExec","max","Math","min","floor","SUBSTITUTION_SYMBOLS","SUBSTITUTION_SYMBOLS_NO_NAMED","maybeToString","it","String","defined","REPLACE","$replace","maybeCallNative","searchValue","replaceValue","O","regexp","res","done","rx","functionalReplace","global","fullUnicode","unicode","lastIndex","results","result","push","matchStr","accumulatedResult","nextSourcePosition","matched","position","index","captures","j","namedCaptures","groups","replacerArgs","concat","replacement","apply","getSubstitution","str","tailPos","m","symbols","match","ch","capture","charAt","f"],"mappings":"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","file":"js/chunk-54a23e98.2bf94b60.js","sourcesContent":["// 22.1.2.2 / 15.4.3.2 Array.isArray(arg)\nvar $export = require('./_export');\n\n$export($export.S, 'Array', { isArray: require('./_is-array') });\n","'use strict';\n// 22.1.3.9 Array.prototype.findIndex(predicate, thisArg = undefined)\nvar $export = require('./_export');\nvar $find = require('./_array-methods')(6);\nvar KEY = 'findIndex';\nvar forced = true;\n// Shouldn't skip holes\nif (KEY in []) Array(1)[KEY](function () { forced = false; });\n$export($export.P + $export.F * forced, 'Array', {\n  findIndex: function findIndex(callbackfn /* , that = undefined */) {\n    return $find(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\nrequire('./_add-to-unscopables')(KEY);\n","module.exports = require(\"core-js/library/fn/symbol\");","export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}","import _Array$isArray from \"../../core-js/array/is-array\";\nimport arrayLikeToArray from \"./arrayLikeToArray\";\nexport default function _arrayWithoutHoles(arr) {\n  if (_Array$isArray(arr)) return arrayLikeToArray(arr);\n}","import _Array$from from \"../../core-js/array/from\";\nimport _isIterable from \"../../core-js/is-iterable\";\nimport _Symbol from \"../../core-js/symbol\";\nexport default function _iterableToArray(iter) {\n  if (typeof _Symbol !== \"undefined\" && _isIterable(Object(iter))) return _Array$from(iter);\n}","import _Array$from from \"../../core-js/array/from\";\nimport arrayLikeToArray from \"./arrayLikeToArray\";\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return _Array$from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import arrayWithoutHoles from \"./arrayWithoutHoles\";\nimport iterableToArray from \"./iterableToArray\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray\";\nimport nonIterableSpread from \"./nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","module.exports = require(\"core-js/library/fn/array/from\");","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('h1',[_vm._v(\"我的实验\")]),_c('a-spin',{attrs:{\"size\":\"large\",\"spinning\":_vm.isLoading}},[_c('a-icon',{attrs:{\"slot\":\"indicator\",\"type\":\"loading-3-quarters\",\"spin\":true},slot:\"indicator\"}),_c('a-table',{attrs:{\"columns\":_vm.columns,\"dataSource\":_vm.data,\"rowKey\":\"name\"},scopedSlots:_vm._u([{key:\"status\",fn:function(ref){\nvar status = ref.status;\nreturn _c('span',{},[_c('a-badge',{attrs:{\"status\":_vm._f(\"statusFilter\")(status)}}),_vm._v(\"\\n        \"+_vm._s(_vm._f(\"statusFilter2\")(status))+\"\\n      \")],1)}},{key:\"action\",fn:function(record){return _c('span',{},[_c('a',{attrs:{\"href\":record.url,\"target\":\"_blank\",\"disabled\":!record.url}},[_c('a-icon',{attrs:{\"type\":\"eye\"}}),_vm._v(\" 浏览\\n        \")],1),_c('a-divider',{attrs:{\"type\":\"vertical\"}}),_c('a',{attrs:{\"href\":record.url,\"download\":record.disposition,\"disabled\":!record.url}},[_c('a-icon',{attrs:{\"type\":\"download\"}}),_vm._v(\" 下载\\n        \")],1),_c('a-divider',{attrs:{\"type\":\"vertical\"}}),_c('a',{attrs:{\"disabled\":record.status !== 'saved'},on:{\"click\":function($event){return _vm.handelSubmitClick(record)}}},[_c('a-icon',{attrs:{\"type\":\"upload\"}}),_vm._v(\" 提交\\n        \")],1)],1)}}])})],1),_c('a-modal',{attrs:{\"title\":\"朋友，确定提交么？\",\"confirmLoading\":_vm.isSubmitting},on:{\"ok\":_vm.submitLabReport},model:{value:(_vm.visible),callback:function ($$v) {_vm.visible=$$v},expression:\"visible\"}},[_c('p',[_c('span',{staticStyle:{\"color\":\"coral\"}},[_vm._v(\"\\n        重要：请确保\"+_vm._s(_vm.clickedRecord.name)+\"实验的所有步骤的回答都已经保存。\\n      \")]),_c('a-popover',[_c('template',{slot:\"content\"},[_vm._v(\"\\n          在实验界面点击\\\"保存本页\\\"按钮即可保存该步骤的回答。\\n        \")]),_c('a-icon',{staticStyle:{\"cursor\":\"pointer\"},attrs:{\"type\":\"question-circle\"}})],2)],1),_c('p',[_vm._v(\"\\n      注意：提交实验报告后老师便可以看到并批改，同时你将\"),_c('span',{staticStyle:{\"color\":\"coral\"}},[_vm._v(\"无法更改\")]),_vm._v(\"你的回答。\\n    \")]),_c('p',[_vm._v(\"\\n      建议在正式提交之前预览一下实验报告 😁。\"),_c('a',{attrs:{\"href\":_vm.clickedRecord.url,\"target\":\"_blank\"}},[_vm._v(\"[ 点我预览 ]\")])]),_c('p',[_vm._v(\"确定提交报告么？\")])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <h1>我的实验</h1>\n    <a-spin size=\"large\" :spinning=\"isLoading\">\n      <a-icon slot=\"indicator\" type=\"loading-3-quarters\" :spin=\"true\" />\n      <a-table :columns=\"columns\" :dataSource=\"data\" rowKey=\"name\">\n        <span slot=\"status\" slot-scope=\"{ status }\">\n          <a-badge :status=\"status | statusFilter\" />\n          {{ status | statusFilter2 }}\n        </span>\n        <span slot=\"action\" slot-scope=\"record\">\n          <a :href=\"record.url\" target=\"_blank\" :disabled=\"!record.url\">\n            <a-icon type=\"eye\" /> 浏览\n          </a>\n          <a-divider type=\"vertical\" />\n          <a\n            :href=\"record.url\"\n            :download=\"record.disposition\"\n            :disabled=\"!record.url\"\n          >\n            <a-icon type=\"download\" /> 下载\n          </a>\n          <a-divider type=\"vertical\" />\n          <a\n            :disabled=\"record.status !== 'saved'\"\n            @click=\"handelSubmitClick(record)\"\n          >\n            <a-icon type=\"upload\" /> 提交\n          </a>\n        </span>\n      </a-table>\n    </a-spin>\n    <a-modal\n      title=\"朋友，确定提交么？\"\n      v-model=\"visible\"\n      @ok=\"submitLabReport\"\n      :confirmLoading=\"isSubmitting\"\n    >\n      <p>\n        <span style=\"color: coral\">\n          重要：请确保{{ clickedRecord.name }}实验的所有步骤的回答都已经保存。\n        </span>\n        <a-popover>\n          <template slot=\"content\">\n            在实验界面点击\"保存本页\"按钮即可保存该步骤的回答。\n          </template>\n          <a-icon type=\"question-circle\" style=\"cursor: pointer\" />\n        </a-popover>\n      </p>\n      <p>\n        注意：提交实验报告后老师便可以看到并批改，同时你将<span\n          style=\"color: coral\"\n          >无法更改</span\n        >你的回答。\n      </p>\n      <p>\n        建议在正式提交之前预览一下实验报告 😁。<a\n          :href=\"clickedRecord.url\"\n          target=\"_blank\"\n          >[ 点我预览 ]</a\n        >\n      </p>\n      <p>确定提交报告么？</p>\n    </a-modal>\n  </div>\n</template>\n\n<script>\nimport Axios from \"axios\";\n\nconst columns = [\n  { title: \"实验名称\", dataIndex: \"name\" },\n  { title: \"实验状态\", key: \"status\", scopedSlots: { customRender: \"status\" } },\n  { title: \"评分\", dataIndex: \"score\" },\n  { title: \"评语\", dataIndex: \"comment\", width: \"300px\" },\n  {\n    title: \"操作\",\n    key: \"action\",\n    scopedSlots: { customRender: \"action\" }\n  }\n];\n\nconst data = [\n  {\n    name: \"安全管理（RACF）\",\n    labId: \"RACF\",\n    status: \"\",\n    score: \"\",\n    comment: \"\"\n  },\n  {\n    name: \"存储管理（SMS）\",\n    labId: \"SMS\",\n    status: \"\",\n    score: \"\",\n    comment: \"\"\n  },\n  {\n    name: \"目录管理（Catalog）\",\n    labId: \"CATALOG\",\n    status: \"\",\n    score: \"\",\n    comment: \"\"\n  },\n  {\n    name: \"系统命令（MVS）\",\n    labId: \"MVS\",\n    status: \"\",\n    score: \"\",\n    comment: \"\"\n  },\n  {\n    name: \"脚本语言（REXX）\",\n    labId: \"REXX\",\n    status: \"\",\n    score: \"\",\n    comment: \"\"\n  }\n];\n\nexport default {\n  data() {\n    return {\n      columns,\n      data,\n      allRates: [],\n      visible: false,\n      clickedRecord: {},\n      isLoading: true,\n      isSubmitting: false\n    };\n  },\n  created() {\n    this.init();\n  },\n  methods: {\n    // init page data\n    async init() {\n      this.isLoading = true;\n      // 获取提交状态\n      let labStatus = await this.$http.get(\"/api/db/getLabStatus\");\n      this.data.forEach((item, index, arr) => {\n        arr[index].status = labStatus.body.find(\n          lab => lab.lab === item.labId\n        ).status;\n      });\n\n      // 获取分数（若已经批改）\n      this.allRates = await this.$http.get(\"/api/db/checkScore\");\n\n      this.data.forEach(lab => {\n        this.$http\n          .get(\"/api/db/getReports\", {\n            params: {\n              lab: lab.labId\n            },\n            responseType: \"arraybuffer\"\n          })\n          .then(res => {\n            if (res.data.byteLength) {\n              // 生成 pdf url\n              // lab.status = 1; // 已提交\n              lab.disposition = res.headers.map[\"content-disposition\"][0]\n                .split(\"=\")[1]\n                .replace(/\"/g, \"\");\n              let binaryData = [];\n              binaryData.push(res.body);\n\n              lab.url = window.URL.createObjectURL(\n                new Blob(binaryData, {\n                  type: \"application/pdf\"\n                })\n              );\n\n              this.data = [...this.data]; // 更新数据\n\n              // 是否批改\n              if (this.allRates && +this.allRates.status === 200) {\n                let ratedLabIndex = this.allRates.body.findIndex(rate => {\n                  return rate.lab.toUpperCase() === lab.labId.toUpperCase();\n                });\n                if (ratedLabIndex !== -1) {\n                  lab.comment = this.allRates.body[ratedLabIndex].comment;\n                  lab.score = this.allRates.body[ratedLabIndex].score;\n                  lab.status = \"scored\";\n                }\n              }\n            }\n          });\n      });\n\n      this.isLoading = false;\n    },\n    handelSubmitClick(record) {\n      this.visible = true;\n      this.clickedRecord = record;\n    },\n    // submit an entire lab e.g. RACF\n    submitLabReport() {\n      this.isSubmitting = true;\n      Axios.post(\"/api/db/submitLab\", {\n        lab: this.clickedRecord.labId\n      })\n        .then(() => {\n          this.$message\n            .success(\n              `✨成功提交${this.clickedRecord.name}实验报告，等待老师批阅`\n            )\n            .then();\n        })\n        .catch(e => {\n          this.$message.error(\"提交失败：\" + e.message).then();\n        })\n        .finally(() => {\n          this.isSubmitting = false;\n          this.visible = false;\n          this.init();\n        });\n    }\n  },\n  filters: {\n    statusFilter(status) {\n      switch (status) {\n        case \"unsaved\":\n          return \"default\"; // 未保存\n        case \"saved\":\n          return \"warning\"; // 已保存\n        case \"submitted\":\n          return \"processing\"; // 已提交\n        case \"scored\":\n          return \"success\"; // 已批改\n      }\n    },\n    statusFilter2(status) {\n      switch (status) {\n        case \"unsaved\":\n          return \"未保存\";\n        case \"saved\":\n          return \"已保存\";\n        case \"submitted\":\n          return \"已提交\";\n        case \"scored\":\n          return \"已批改\";\n        default:\n          return \"获取中...\";\n      }\n    }\n  }\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Reports.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Reports.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Reports.vue?vue&type=template&id=24a58854&\"\nimport script from \"./Reports.vue?vue&type=script&lang=js&\"\nexport * from \"./Reports.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","'use strict';\n\nvar anObject = require('./_an-object');\nvar toObject = require('./_to-object');\nvar toLength = require('./_to-length');\nvar toInteger = require('./_to-integer');\nvar advanceStringIndex = require('./_advance-string-index');\nvar regExpExec = require('./_regexp-exec-abstract');\nvar max = Math.max;\nvar min = Math.min;\nvar floor = Math.floor;\nvar SUBSTITUTION_SYMBOLS = /\\$([$&`']|\\d\\d?|<[^>]*>)/g;\nvar SUBSTITUTION_SYMBOLS_NO_NAMED = /\\$([$&`']|\\d\\d?)/g;\n\nvar maybeToString = function (it) {\n  return it === undefined ? it : String(it);\n};\n\n// @@replace logic\nrequire('./_fix-re-wks')('replace', 2, function (defined, REPLACE, $replace, maybeCallNative) {\n  return [\n    // `String.prototype.replace` method\n    // https://tc39.github.io/ecma262/#sec-string.prototype.replace\n    function replace(searchValue, replaceValue) {\n      var O = defined(this);\n      var fn = searchValue == undefined ? undefined : searchValue[REPLACE];\n      return fn !== undefined\n        ? fn.call(searchValue, O, replaceValue)\n        : $replace.call(String(O), searchValue, replaceValue);\n    },\n    // `RegExp.prototype[@@replace]` method\n    // https://tc39.github.io/ecma262/#sec-regexp.prototype-@@replace\n    function (regexp, replaceValue) {\n      var res = maybeCallNative($replace, regexp, this, replaceValue);\n      if (res.done) return res.value;\n\n      var rx = anObject(regexp);\n      var S = String(this);\n      var functionalReplace = typeof replaceValue === 'function';\n      if (!functionalReplace) replaceValue = String(replaceValue);\n      var global = rx.global;\n      if (global) {\n        var fullUnicode = rx.unicode;\n        rx.lastIndex = 0;\n      }\n      var results = [];\n      while (true) {\n        var result = regExpExec(rx, S);\n        if (result === null) break;\n        results.push(result);\n        if (!global) break;\n        var matchStr = String(result[0]);\n        if (matchStr === '') rx.lastIndex = advanceStringIndex(S, toLength(rx.lastIndex), fullUnicode);\n      }\n      var accumulatedResult = '';\n      var nextSourcePosition = 0;\n      for (var i = 0; i < results.length; i++) {\n        result = results[i];\n        var matched = String(result[0]);\n        var position = max(min(toInteger(result.index), S.length), 0);\n        var captures = [];\n        // NOTE: This is equivalent to\n        //   captures = result.slice(1).map(maybeToString)\n        // but for some reason `nativeSlice.call(result, 1, result.length)` (called in\n        // the slice polyfill when slicing native arrays) \"doesn't work\" in safari 9 and\n        // causes a crash (https://pastebin.com/N21QzeQA) when trying to debug it.\n        for (var j = 1; j < result.length; j++) captures.push(maybeToString(result[j]));\n        var namedCaptures = result.groups;\n        if (functionalReplace) {\n          var replacerArgs = [matched].concat(captures, position, S);\n          if (namedCaptures !== undefined) replacerArgs.push(namedCaptures);\n          var replacement = String(replaceValue.apply(undefined, replacerArgs));\n        } else {\n          replacement = getSubstitution(matched, S, position, captures, namedCaptures, replaceValue);\n        }\n        if (position >= nextSourcePosition) {\n          accumulatedResult += S.slice(nextSourcePosition, position) + replacement;\n          nextSourcePosition = position + matched.length;\n        }\n      }\n      return accumulatedResult + S.slice(nextSourcePosition);\n    }\n  ];\n\n    // https://tc39.github.io/ecma262/#sec-getsubstitution\n  function getSubstitution(matched, str, position, captures, namedCaptures, replacement) {\n    var tailPos = position + matched.length;\n    var m = captures.length;\n    var symbols = SUBSTITUTION_SYMBOLS_NO_NAMED;\n    if (namedCaptures !== undefined) {\n      namedCaptures = toObject(namedCaptures);\n      symbols = SUBSTITUTION_SYMBOLS;\n    }\n    return $replace.call(replacement, symbols, function (match, ch) {\n      var capture;\n      switch (ch.charAt(0)) {\n        case '$': return '$';\n        case '&': return matched;\n        case '`': return str.slice(0, position);\n        case \"'\": return str.slice(tailPos);\n        case '<':\n          capture = namedCaptures[ch.slice(1, -1)];\n          break;\n        default: // \\d\\d?\n          var n = +ch;\n          if (n === 0) return match;\n          if (n > m) {\n            var f = floor(n / 10);\n            if (f === 0) return match;\n            if (f <= m) return captures[f - 1] === undefined ? ch.charAt(1) : captures[f - 1] + ch.charAt(1);\n            return match;\n          }\n          capture = captures[n - 1];\n      }\n      return capture === undefined ? '' : capture;\n    });\n  }\n});\n","module.exports = require(\"core-js/library/fn/array/is-array\");","module.exports = require(\"core-js/library/fn/is-iterable\");","require('../../modules/es6.array.is-array');\nmodule.exports = require('../../modules/_core').Array.isArray;\n"],"sourceRoot":""}